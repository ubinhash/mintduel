import { z } from 'zod';
import { type InferSchema } from 'xmcp';
import type { ToolErrorOutput } from '../../types';

export const schema = {
  names: z
    .string()
    .describe('Comma-separated list of Otom names to convert to token IDs (e.g., "Pw67, Aw44, E42")'),
};

export const metadata = {
  name: 'convertOtomNames',
  description: 'Convert Otom names to their corresponding token IDs. Only includes isotopes in Universe Alpha (excludes Bohr). Supports case-insensitive matching and both formats (Pw67 or pw-67).',
  annotations: {
    title: 'Convert Otom Names to Token IDs',
    readOnlyHint: true,
    destructiveHint: false,
    idempotentHint: true,
    requiresWallet: false,
    category: 'otom',
    educationalHint: true,
    cacheTTL: 60 * 60, // 1 hour (mapping doesn't change)
  },
};

export const name2id: Record<string, string> = {'Xy78': '1379405376422858295395880331876304252019157490377479087796624777065851415450',
    'Zq30': '1506561973539089856738987810202887074335553333670582347043169368106867873398',
    'E42': '1569041150958166647302617742676015557368606164238577577103799739907942887770',
    'Aw44': '1675726712355639628727080294218409443230294507756082344941720002456219400048',
    'Xy79': '1812280868653772666880890485887268145760416366149667013910782784542158278196',
    'Xk52': '2434632519860605289910744640710598359931725763923306084970826889296878183305',
    'Gq71': '2559102573488757533634599410418125248735050906925978963546263782967433185336',
    'At61': '2890757137005892474846310662613496212523606680524975783717087149331218733483',
    'Gk65': '3552251273711496421418913593308958128811547709762114523982260439137775054627',
    'Hb67': '4908121289655726906795131063416533277821023655787130582403453029747866255178',
    'E40': '5424817952145526864521995369532637458454944784009206288456400795428745692426',
    'Pm20': '5477652329031620367835518516539523348671587725491362465848381882290404953731',
    'Hb65': '6097908629018725390717835233207845426322533999399773598736165806362869534123',
    'Jx61': '6649116810447411056481512372192276325069902902850069653310987434632038561484',
    'Yp58': '7356074676272368112265594024672057978418282683647577628339321839146578848284',
    'Dx14': '7733444344978709366234310482023645368308101031014937754286400979823516187926',
    'Jx59': '7762003393140052974232776518417847696101687015239158699516129184646912614494',
    'At66': '8051353140329759742463320736234158273426176629503311975060006150109746154269',
    'Ny62': '8898402620207233036945734931787498727571275020526442730349491997811981097324',
    'D36': '9419272978309770255496576682953963903162754150839828972560509357625143931615',
    'Xy73': '9782487275660782397560622626059184636824404432947583250749981670034662333472',
    'H75': '10549117495332676622303467472187945570511914599499442751289190630194665120864',
    'Gy36': '10654913836383506618288917722091583010904777461129500111563245563534831716538',
    'Qi78': '10669941292946365981596890023550040665065695715455042146775053914502797783596',
    'D37': '10892028944868184698017139511314360122045651674561400536434258719333315342298',
    'Hb64': '11347412262652992111749836644715021500297854725502595308870775688793151791796',
    'Pt26': '11350399514319925547596747700592443886400309791910872050748641599542235749470',
    'Xk51': '11431731874276171697977644297544436770344812023262657607346573330071595722236',
    'Xy77': '11871785935892476481262567927315062531865180336315678004630712977507796936730',
    'Hb61': '11915028487952775775936522673357720337528285075410696751267840025450191299125',
    'M19': '46830581903428415203072889759347853655321075346996738680415038157495336504',
    'Xc30': '12010648438316454558969583045159023019733575977210824562428222321543235800407',
    'Aw45': '12138348318941545002071341805244056553083626893111045774631098217011319249320',
    'A43': '13072547014769437040907231580082253336507451298509042216905078834083209805784',
    'Gk75': '13627041112079929018900686518541147485529025442856061122256856982808963071155',
    'Gy34': '14005511400042620777680147375153742749049681783959082269863965521481989449752',
    'Fw24': '14530020536527468479275287907882558873506541313036598423410951768852800572293',
    'U80': '14784207114945568976730851314940771317913111782363185150348264455133607137263',
    'A45': '14831195065537629619119981888771096829012008939387493277144675737236915570328',
    'Pq10': '15891305611888131437824645924890402674383914107624515195326990351601291929871',
    'Gk70': '16204361319143050299933885207671029578418057480433888210468947878186315314277',
    'Bt74': '16442200506102510874703806964695334553779351136443865981435045052992356418690',
    'Nb53': '16474783999001263780052090221575414673378915588594067436026332478900803648119',
    'Zz15': '16555996861323137168106927909571448103649780543471618318675210661754630690176',
    'Dx16': '16569425357963607198829135529625190800865258086727020394910476512940975480211',
    'S25': '16860906057824476817344871737779842197445537676230868815629760710066177728119',
    'U82': '17021031689676131018719762901884135634325124005348407424555159547892759689837',
    'D33': '17060576699462240269012133164527791358657295912286148012000278137196750386131',
    'Qi68': '17294851575101305809843255558473906805199001927261761505384705661267487459564',
    'Pm21': '17347872832932395013609748468952829770211104595524814142998801037318466753031',
    'Sq80': '17640496351935271571535930035599541477506758316725253275799721009244900813812',
    'C41': '17953289155491000275629049193669363527550920244327034733589915756918179306341',
    'Yp56': '17964944072543300855314933387518133335780198372659979445889590085108351839122',
    'Yp61': '18701620282505149399752227276021178741327169871032360420389615613602054456490',
    'E47': '19113520437832912539610859142489931319527407685971413583686280809395165007000',
    'O39': '19305195184714058001143101990581487072487777037978827778648105901692474353876',
    'Gk71': '19439546457190778848304521882945582012959431324217619189643882366704846704329',
    'U81': '19511790584578148696180600932179629185754225140528885546599646635532916137499',
    'Jx62': '20016164862881130249627466146840347189605631941640475236871032926407841120766',
    'Xk50': '20330147575165251048714841270128192382098821784919483622788869412792387069788',
    'Pq13': '20961030898219233270150918249668917934726901654327669137074375940701318667300',
    'Oc51': '21195360806128627319804281206972299255991113376852779910206444626921479445453',
    'Fj36': '21598327434722897748037985922417867601037548716985229994877830446168490749794',
    'C43': '22292826884086789875486882270186318012283206373816977975176557212501598147725',
    'Nb54': '22574344829326183490115418553085556418248223394968663136509789045395126882745',
    'Ic57': '22673261457265073370076917347925361918568704149158825720643815134120472930279',
    'Qi74': '22801238195651128663001339884815523628636416731792215270289988527946601700458',
    'Zq27': '23049680126940912479710367703106772905714213411559525376036605507120472037029',
    'E48': '23790536361021749926460304016463118152576467239531030515501547648315347747903',
    'Ny72': '23790593587150327570852477997325497445632527968320775699254904820059897540997',
    'Nb56': '23998141626264631425701701583001136236477678556717979465820071133501831810938',
    'Cq5': '24022272081870620004839900104358814986139284528666772126522993888339033966256',
    'Oc53': '24221061594606862669319522817771383963166643355847790379190401609339427111866',
    'Pw65': '24422597536305785161059175269526809999145071888586773116450511505944424480866',
    'Sq83': '24948844161543769886358113826496545172750401280320206366153197347283496702045',
    'Xc28': '25198555517005821974169871987689248865653277752935092937167732929972957705623',
    'Bt78': '25218783587724362761887273994628379545015736890587229004954545387725188813156',
    'At67': '25397323383337083176263046820704191626607537456486577700460140587682946251344',
    'Nb49': '25579061665158783652825955332768108783373037962025543783443696980787798193411',
    'E45': '25861331817693601040396931866449177821134856304970036090207533748335241126553',
    'C45': '26293635274732768601805296967711640324400401191916494405732135137543942522276',
    'D39': '28429567233100493234110614649704432367605882987651836529301688639495593168463',
    'Yp57': '28443684225180673358388576680737318844736206785980683548490384786975871249490',
    'Fj40': '28468817589091029829739867426876529376764944707379976465463858506154415733598',
    'Xy76': '28536184940160712686626262333280358178869911191836470002951348951733438847631',
    'Xy72': '28613074847850789994692117343380369240572079222016961449756373806753386458075',
    'S30': '28872639999767004860254826448341944465731199618217749414952113656927997121418',
    'Aw51': '29087474237974370118915000290517021852479560626373704304139729407083358463337',
    'U83': '29249873760555563071077515456339064384117823875626789894686305099025184815598',
    'Ic56': '29848447886635862743446601765878108147942246257458671673314749143404966980628',
    'Pm18': '29863715056427171720434979194521141681246112837893985483841935182667228195468',
    'At62': '30001489331067906371704401748087595291133781796070964510020190894649019740834',
    'A50': '30128332658886591122695356628142292939408765051435664612897172785705077788220',
    'Zq26': '30686439896348681980610456410262143076675485486400170774506559457239956912327',
    'Ic61': '30792690632591590016117011105963579715216565620899436064312844122900126052651',
    'Ny69': '30962969787114795973755755216171907136351981061016485207125629060632265964555',
    'Af9': '31082381356578829453384169784755566954223199248739072667402029374517319257219',
    'Xk53': '31118865548580040548924352602913641379158687247587289020387428391951695592284',
    'Ny71': '31436685302281084531194176423586185783630437067087783196885179545164107782629',
    'Gk74': '31445778042998398434890264469971838638984787468804434397861073167297422242343',
    'Fj38': '31535181279560393545993287969252881937527473712503535607672718642645895471945',
    'H76': '31982734554630676375667377410741248241757086002070827575619367436699824732873',
    'Ny66': '32074092284946049718815071591806123748480172127713006339689293586827267704386',
    'Pq14': '32115790859466664320549014110206900816986766112311619409727161573860406550504',
    'Bt80': '32118068080853082059096552440525841546397418573049942145056219113994731582165',
    'Ny63': '32172209261883003716399221745770935954070240630356216474430744282437723678264',
    'Fj41': '32330863215694173834890799952454463181531870324753630422954180793445679205222',
    'Sq82': '32616029081720290443369934586767732017990385836640153384446627072180795639666',
    'Bt79': '32720645307838819713537649737938256179466189716414821746336463447252641423718',
    'Cq6': '32873383657618038382703013176868096063478039030768736192443854352187146678324',
    'Xk58': '32970686058816156419218214803375821485752626921886863582325976081276548683857',
    'Oc46': '33977922433598829454693421134285580510237113421508756763874938363496063623400',
    'Zq28': '34299617033904455961523188846425764080963153784750996827388416718561249751002',
    'Ju2': '35159569680903626501449329353512578019171730918789714169601127546706358467814',
    'Gk66': '36035648022479622647265246546789965087788579307211831982636050682464446168503',
    'Yp60': '36137611105339382389788128083935597619825169707852180319529294926486578260922',
    'Gk73': '36153732151168056462937206455847725770143800257867776781261128463284403447042',
    'Xc29': '36336351101886715677995985897102811906068434669238817164420372827219459155152',
    'S27': '36957880584514303857890068856797185400398270788005048261438448033607743845955',
    'Gy31': '37606274648583395782330639322467186079194949918633237428578122627772782614938',
    'Ny64': '37690556139185715175327159703309818364236267410137153879921841735968044134968',
    'C39': '37784540488449804943019672850849439486469844818518992461454696971202317167944',
    'Xy74': '37883965285264940711251166209645390944443071785086000868779745620912087289248',
    'Fw26': '37941232443015537275807816714578959647735363517726378671231659313835074264384',
    'Hb57': '38871610698697300888569721822725903198684831167028500171483776965996071327629',
    'H77': '38977070209004093440022499882584858996218191430751603771018107241910890279185',
    'Xk55': '39365308506815053735448744832387518466751162167028411006582267551684479866109',
    'Qi75': '39974298637036436306890095793867208938858476620485043630991491388386648266056',
    'Pw67': '40143084089299211004652774411431286983420655721795145038423248910673353722816',
    'A47': '40439256097203735635213144619210260074734779174383760691914257166016430118958',
    'Gq75': '40949967913732654528963517224516771773504396772828038760176224521326458283265',
    'Pw74': '160632627485117881190063841737167309539749242635829402446494174694019997848',
    'M20': '41531482708453860552959019439525500162618454987803772582079372108437618663362',
    'Yp55': '42032852137736704566090478763062501215379581496180455182647162385393787342699',
    'W5': '42078377950854628111640335977147433214803563051032891496276996662995270136195',
    'Pw72': '42350606936810620177117725249033931731425763266825417819537976344872187349036',
    'Sq84': '42447031584741549881403961151980186815214931465812669734010119759849926484365',
    'Gk67': '42515782363242842658074123817446496900031915588567683038631096022425874229904',
    'Zz13': '42567424059813990806601974118068134134951639742991808781206668542953685683866',
    'Ic60': '42717802936434393412207664532446859253071174751373042898666222653154765610061',
    'Nb52': '42728454091882285128251924214703901437856961239806286683874378783414709943971',
    'Gq79': '42850377541215699756736856281825158405432293257216945424135724061762352736971',
    'Xl12': '42975968090654801479094856830333222070692709861426436842898009327952347463255',
    'Pt24': '43140388860497231268305202511725991473995722804190461363284215471610267609721',
    'Ua83': '43412409028055511434460124461852638289336721563573620713484444000381241306906',
    'Jx63': '44330330188656789747282270833012567822073736900831426065343042004747831516076',
    'D38': '44886197858359769195310627575331683849351642800155399690199386898391590842374',
    'H78': '45764361279055287060238500808636115153589251533677590391584711015167628757723',
    'O40': '46431690043488863895296912538971542736315208274059480663011651888004841174113',
    'Pt27': '46881555726679473353114718682197672679146254692684442713145535648001447257122',
    'Ic52': '47698780378640949803227174116585061879545240663042898981538189195250696463358',
    'Xk59': '47822226473649422530394251057095802834545282783245469936684169392373423835371',
    'U78': '47925669942168651680155715033658708057484412425991717393838523715260661039849',
    'Pw64': '48168977684506018001503168738449816622247569836929895140592241156947971924657',
    'E43': '48239798011865118575763841769971060115277623114260394196756895433287644843709',
    'Xy75': '48403027127597699540904503087444975635898771454593259787746577774048422372580',
    'Hb60': '48514075988431050091256920272341441117738989938246768914965318140980773143235',
    'Ua84': '48568274091803211014298808706848271332952455503986323590562598591471370749964',
    'Jx58': '48927714589516593992795865986203112238798120752526813365179392083980967711279',
    'Gq80': '49047513110028654787718965115461500105380320620411923142972157149530672667255',
    'Oc50': '49708328889518997804342942196478772268808116267564352772515008760562485821493',
    'Xc32': '50444545590099464131310122008664691427341909761014158709710203487202153226455',
    'Qi69': '51301654383439990215384401514024904925524342068195522282485245312468081842337',
    'Jx64': '51549450449262541326861922497283817483590989859202177933065092852715485257453',
    'Fw22': '54181014403279845043307314092649094147808837163731540371645045466085987736470',
    'Aw46': '54851213959978833538759215322496393034656485071810178673312207059338113466075',
    'Ic51': '55813070009150246053337480254262320705183888842390832675515785100670793248547',
    'Sq81': '56782538204502050942269338402879830963742327486841914714544771883853409737344',
    'Pq11': '57047654543860736979189488896558838909186517648154931801926550692760298995468',
    'Aw47': '57288499607542142586219758113446873317149199203822045141932682551002304645269',
    'Gq74': '57403155215350996738805965829023580228218608789478173497427653219567257193455',
    'Yp62': '58118923275080372309526125457990535098675377975885354162985279046826645777054',
    'Xl10': '58442524899314396002380478605482856164075913449784894861100132475504166110953',
    'Xc33': '58918060677805534856718526439885786735053916831140991408410917761202323665725',
    'D32': '58933821579056886190746621863356589531689376886136972924794295774051809771743',
    'Qi77': '59018707617756332844516943625383993099530831164226234459278009828367760534225',
    'Jx57': '59594645958431703343874481754666871599337979493470407574269308752587542138966',
    'Xy70': '59991896796477966176208061014561908808730918584295526483124249276451750607276',
    'Fj35': '60416142983974721801951383908247277979480288345682241929134508994476993061580',
    'Gq78': '61350047453997681872501015124613401389399249399029853678792863299343685973210',
    'At63': '61527017560901935556338232718150582086160032288866499719603811738425606835841',
    'E46': '61786867658873080812944130226867868445534333159159537226793241194906459379028',
    'Ny70': '61811219134637837315647028615589690346267685360157767166773647299188354606963',
    'C38': '62188120380955433589996688135046137641611073620469181534940264243692310263123',
    'Ic54': '62222239592257910026804494176514122193833192763267250464817935691436947244024',
    'A42': '62660910740232615889359746831598284728610509752077881635130216463795502430792',
    'Yp54': '63066111409797999657384111483074703332958758765304692946297930016640691361120',
    'Yp59': '63782078090455005843722647831810203345649340468849777167466851464489487520157',
    'O42': '64472530091721303643154170610487826644095371769800460017683096684522665762654',
    'E41': '65210908946225401935094305884285029750574218853058858444399226548889602941544',
    'At64': '66446078931500287205111177534983310103716799593492655823018121175971474334802',
    'Jx60': '66468183450232645705592509555414797316428757503322240215338716260955344211089',
    'Qi73': '66486819784218008766332820966645095247443018496385855152278187032054400754210',
    'Gq77': '67253010965024289896392341098799800555436614251686469331889243851547702890716',
    'Xk56': '68586583734761069633645687139119393291095223221561925500110838646187121735580',
    'Gy35': '68804110311425100770065778182301871688166736777274247269457943033858803666361',
    'Ny65': '68815179055258893444387859108998530652481028327682588099329175453223813477841',
    'Pt25': '68943117528603787166504892622955209218042670822189575380235000231976102969222',
    'Gq73': '69307237531028499595933222598159967620377604687059097650153421213455033651867',
    'Xy69': '69366888717151273382655392328974051317849305264349045341703282089231775894951',
    'C42': '69855061132396979947170751891084917677749886813696610658127548120110987590459',
    'Dx18': '70219061706966974136423224726979291514906137713196585270427657656279247893818',
    'Bt75': '70590897269897961846656777998337388586010958872329696571112167753439624634210',
    'Pm19': '71625162033614001349820323117480365677712868814813255988761332079725894729185',
    'Oc54': '72904341805016654091558270876922077794718172474096335406883083445681703815703',
    'Af10': '73220370080612659111184699381310873683995296685267435305119272187313674432235',
    'Pw71': '73929967663182296738026520449415808082392794937704736756609146671381914936723',
    'Hb63': '74241511091183346567895904761728910335757203341854579449422930245828048026509',
    'Hb58': '74885686046573642064450282583990886959414928787941767608474527449097938311139',
    'Fw25': '74924510248118285722950210054328651618573971670356476772557035034381167539577',
    'Oc47': '74982165322635497466233663525642862717550212217680581308980336011117330968012',
    'Qi71': '75319415389557047755007282063225791863081982459492901186037664546271188230657',
    'Pw73': '75350942825884593932711970687857510087058117903225868239614156965691271133017',
    'Pq12': '76612613030139906190416043413639270804084087784678403991241784143365240601690',
    'Nb47': '77234300788086310918783904096607248833897720205780563912532955680824069172231',
    'At69': '78499710544946104353353035403885728011719589969903987074458068069580745767851',
    'Oc48': '78817387338711397818575884661602135660196731046560435853674330043202413694942',
    'Xk54': '79082936652143131143230803956682654176312907024551898789396794547597051471563',
    'C40': '79186117076413383462657786658045086616768472885394748482603539512382130775447',
    'Gk69': '79350398999228272567392755323006763157853288693332003837883782921545278432161',
    'C44': '79831996585353088086028937727560427042743714328644057719489493808307652396882',
    'Bt73': '79931413208353431282120703218715427365296731721617854453099460384325182213503',
    'U77': '80208761829410857019562512949342321687846549513711446602791659410207977883078',
    'Ny67': '80219420192157977433295576669507525729487545377941637404382741190468792699840',
    'Ic62': '80485830025362393488741023045419089267794658744427702060874033030761972206191',
    'Xl11': '80659023641277830945440821475364791514777124799755815301151453226839052440233',
    'D34': '81133883462039120398361762395286650830943482698484613979385684190099939807511',
    'Bt77': '81771540163233930844471534312963548521440380730567522699531716016975580804251',
    'Jx56': '82021554185846706035937825774729100134473591603627970333465347436215832178165',
    'W4': '82314540186597377019741273775235000929070457658490928548440454198341617233474',
    'Sq79': '82339636192223865322306851059937224426781134276386756769626872592054694241369',
    'Zq29': '83013587909006012710075414251372381336652763136198029078576366927259012653521',
    'H79': '83060679256863647954120545763436286503491746765481808437883290333715402274182',
    'Hb59': '84263664606616496952024249544163006717299123294644705566521372295022730073216',
    'Xl9': '85098605521195741666920212564323157159964481321981403766635982087249819388169',
    'Xc34': '85946772446798246649495380594330796935736519487395412913114345000519436097322',
    'O38': '86135382178733681522438914993954653417451642669701093725662443073216167379381',
    'O41': '87837435867245231753691054433772623528410319405398057702798682651110715280611',
    'Pw70': '88023276607788552912984766467399436148887295973739138970559066685861425888612',
    'Pq15': '88177391708795508450941659125982487438730361150931237908121193762321217188212',
    'Ua85': '88691496155904190756307248519900089609929970913887016548455993272124591624476',
    'A46': '89020936309887889850806217145602855539484490381435096180643975228324006939504',
    'Xk57': '89361879513403408043600640449943435308410880818464830102751867668592471035819',
    'Oc49': '89470624515628969247930898746904170130982405259056919494135409838596092590353',
    'Zq31': '89557612606398802727334102603047030793240417504561351318276054989330392802280',
    'Gq72': '89570680505376609429157803747009666927150204837519724147049554630430698610368',
    'Xy71': '89852950962340883160225323115133528350177059511855498234856351860844227154887',
    'Pt22': '89965373545860102784486804768587516514890275271568615825007240031660707814843',
    'Ic59': '90026115937439061733446249802558937205630802623144008454277111061080353801894',
    'S26': '90507836635200411385986810380533112259776812571534151503021891447631149599946',
    'Nb55': '90606222678225709571700910248095413269214383960298510603882184671018170453226',
    'Nb51': '90618576844109261765823583414211988156739530315627864737754383531438330337704',
    'Qi67': '91231780460482103063853042657704185304639485276785894545828594616416632663835',
    'Ny61': '91308500527774550570043623863501176081366060970219691076901776235716879681106',
    'At68': '91622652708374753057079386740456830948482662618383278324848332356724633803474',
    'Pt28': '91690843751686600861760337116184550559885997097302915985687314627724960085743',
    'Hb66': '92745846489806457691999634882203845978581685399182535713676121575871423015440',
    'Af8': '93652894349105158934513407931827023863396296658398851205876984838531481518931',
    'O37': '93808725537212301819640286611613482733903407880157757095795960600207657337026',
    'Pw68': '93914409571778635640446937871741624846669577852399737321605431009781601319577',
    'Aw52': '93931756945383408316916455472026014152343113087835356053648132279702077908041',
    'E44': '95347004010908633576764700962313465115018283144352786443293743204389440624107',
    'Fj39': '95588696281820236941772007254000060007254729324290821749977767654235722889284',
    'O36': '95908827326982003747879792481751783674660109851542097145120877352511772625193',
    'Nb48': '95977430404225115629726183875434066733282219334941241743845317031060789675525',
    'Gk77': '96108821117003336580141255444165867324842427364384018699296671638045018643476',
    'Fj37': '96845875114314330004927743437437289384083336706310341672983217940596437128563',
    'Yp63': '96913646580819547086407784823413900145338659737532117853895127959797089423941',
    'Ic55': '96977013989237203474257817848044284318445149324428254639163555430745232501894',
    'Ju3': '97038452133166389191940970869235037672971405321159886681321332564624883738122',
    'Pm17': '97399257658433516715010782497308004205954685430927919921776919842067243338385',
    'Bt81': '97427576843316260728574870536723160008763034992510058997524069403729792072591',
    'M22': '97756938773907945250728660658908427349349454182208050532038675686536993240887',
    'Gk76': '97831249395358534513858137411202724936416070306231083462656356903835177925177',
    'M21': '98236862906596638552881494611726750500619181074175392433634598094815133391888',
    'Aw48': '98447718641916583142528111666364456364333888105740477148500465940994760100714',
    'Pt23': '98575404886173915173740470729940171246839684101419660330090497643862410889494',
    'D35': '99133509647687564273124813760067135939868588366479502221651772314356367941636',
    'S28': '99545988333081984555003158906654743703188551724841397380332511171918343435388',
    'A48': '100577907378135630455773603909496963488748790298589038141145532913441926000412',
    'Gk72': '100730353728624770025868895126914398861538277838305821957164391319205618956209',
    'Nb50': '100836297358248023039094727215627999640716986174278456995322740190408581161484',
    'U79': '100877704163099847460513367523158582210908485664886702522002306392544228691367',
    'Pw66': '101478615298696195409177613045491291920995142367458399553752155861873404731886',
    'Ic53': '101597233511063270406396207045058339018253790611650236424702761787226439650953',
    'H82': '101887278478650560071630066501583374918221909694541112567526177671283696560731',
    'At60': '101899728876080146134883377345850409643767742599283066241273079039142426449579',
    'Ny68': '101942166491930856908889717762690167378747645179538471936838784341843800683386',
    'Oc52': '101942336730045960172778940357973372612622936653212947189296400399322161013991',
    'Qi76': '102000077570729428339158829162723250606327432110672430001091948584117074705155',
    'Gy32': '102332324956351842784508862075399801482660817218031148850120575957305256924783',
    'Zz14': '102778440634494800034222665730320253970535620183521519769203972072981002600659',
    'Ic58': '102791697884523010360588276484107015495623330329451687158811200761415008491380',
    'Hb62': '102840084584287080471533614282259077082923107843817838572169020385535550633949',
    'S29': '103627554806855354294319565809227139862026545979382802238714108510885419938470',
    'Dx17': '104745433255668978758136946221558159207043762531164878325824366788916131032188',
    'Pw69': '105316452069380374433055362927228855155129158368570047753803406421396060609202',
    'Dx15': '105679322411752642088911561491593062974989116523221324745906132364764445320706',
    'Zq32': '106624926747223049519220119312111730227915948221279669070037098580068907874421',
    'O43': '106749850630199962406933773708326957043976906174293417883111236413221740569562',
    'Gq76': '106978675972724217394720151755182172953800605907360061976178048504976672441086',
    'M23': '107643704287486841978799745103570751555738283631513955104863877344997683201411',
    'H81': '107998095917348500071838404916093062058391728936032056035250193738071220511026',
    'Gy30': '108290473290110242259004754222676337385507603198390854196392412401029361993501',
    'Qi70': '108560664059242427705213833212868583247509530422754107947640658526277867123727',
    'Fw23': '108614536725330747851677995657126422391180333899642198385696954939076404299085',
    'Xc31': '108662997052650031164540389616302861082085388300735332986555936371325239543660',
    'Af7': '108953838289794689949517593520325863801083578306867662325615850131412479978149',
    'Cq7': '109017886057251182666336718528581053198613765019388888759076809990227452125649',
    'Ju1': '109411192323005013320236074910166367482792971750025377481544980126703983546020',
    'H80': '109591835589092574055387600581053967597172401192920726309211621745538151583674',
    'Qi72': '109720235887359353893480088412897684989584150717320557857338745300112468952385',
    'Fj34': '109987198376916500069600501678327423687658209079942256199844734396424076655035',
    'Aw50': '110656826149487321992430974152861622810896858032454732918669727304089535290245',
    'Gk68': '110657548534095430390108784193716877618838982811112124466926047327320569901498',
    'Bt76': '111274870329410202114473964500913152290151914004581383354257874799123503099327',
    'Fw21': '111496670010073644586059934852415601576415325816117835044985437307655452715586',
    'Dx19': '112189688167929084055883402287139204325716886866799699205469986433414306587868',
    'S24': '112893399874977867301529888216184140773703892279681730907572642052817590450964',
    'Jx65': '113728853344240118936569230248776291284844449667306138184115627258814060299546',
    'Gy33': '114022603453248215045326486085359216754481465914315902057950031359369784296023',
    'Zz16': '114300741742767021243558719002309405528518935839906020825084145467347846679383',
    'A44': '114798246520593494437229254722778965140658369970119315639212004105786614964994',
    'Aw49': '114980640433903059699262312258723975182822233391554459306606426038932911900040',
    'At65': '115451383095314180795915333577338302243825258568241244004127238590437637151216',
    'A49': '115709136183397770367351310044097818505682304605941656259479188650678096519008'}


export default async function convertOtomNames({ names }: InferSchema<typeof schema>) {
  try {
    // Parse comma-separated names and clean them
    const nameList = names
      .split(',')
      .map(name => name.trim())
      .filter(name => name.length > 0);

    const results: Array<{ name: string; tokenId: string | null; found: boolean }> = [];

    for (const inputName of nameList) {
      // Normalize the name: remove hyphens and convert to lowercase
      const normalizedName = inputName.replace(/-/g, '').toLowerCase();
      
      // Look up the token ID (convert mapping keys to lowercase for comparison)
      const tokenId = Object.entries(name2id).find(([key]) => 
        key.toLowerCase() === normalizedName
      )?.[1] || null;
      
      results.push({
        name: inputName,
        tokenId: tokenId,
        found: !!tokenId,
      });
    }

    const foundCount = results.filter(r => r.found).length;
    const notFoundCount = results.filter(r => !r.found).length;

    const result = {
      timestamp: new Date().toISOString(),
      inputNames: nameList,
      summary: {
        totalRequested: nameList.length,
        found: foundCount,
        notFound: notFoundCount,
      },
      conversions: results,
      notFoundNames: results.filter(r => !r.found).map(r => r.name),
    };

    const response = {
      content: [
        {
          type: 'text',
          text: JSON.stringify(result, null, 2),
        },
      ],
    };

    return response;
  } catch (error) {
    const errorOutput: ToolErrorOutput = {
      error: true,
      message: `Error converting Otom names (only isotopes in Universe Alpha, excludes Bohr): ${
        error instanceof Error ? error.message : 'Unknown error occurred'
      }`,
      timestamp: new Date().toISOString(),
    };

    return {
      content: [
        {
          type: 'text',
          text: JSON.stringify(errorOutput, null, 2),
        },
      ],
    };
  }
} 